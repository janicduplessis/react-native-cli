{"version":3,"sources":["../../../src/commands/bundle/getImageSetIOS.ts"],"names":["getImageSetIOS","catalogDir","asset","basePath","path","join","httpServerLocation","substr","replace","name","files","scales","map","scale","suffix","type"],"mappings":";;;;;;;AAQA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AARA;;;;;;;AAgBe,SAASA,cAAT,CACbC,UADa,EAEbC,KAFa,EAGH;AACV,SAAO;AACLC,IAAAA,QAAQ,EAAEC,gBAAKC,IAAL,CACRJ,UADQ,EAERC,KAAK,CAACI,kBAAN,CAAyBC,MAAzB,CAAgC,CAAhC,EAAmCC,OAAnC,CAA2C,SAA3C,EAAsD,GAAtD,CAFQ,EAGP,GAAEN,KAAK,CAACO,IAAK,WAHN,CADL;AAMLC,IAAAA,KAAK,EAAER,KAAK,CAACS,MAAN,CAAaC,GAAb,CAAkBC,KAAD,IAAW;AACjC,YAAMC,MAAM,GAAGD,KAAK,KAAK,CAAV,GAAc,EAAd,GAAoB,IAAGA,KAAM,GAA5C;AACA,aAAO;AAACJ,QAAAA,IAAI,EAAG,GAAEP,KAAK,CAACO,IAAN,GAAaK,MAAO,IAAGZ,KAAK,CAACa,IAAK,EAA5C;AAA+CF,QAAAA;AAA/C,OAAP;AACD,KAHM;AANF,GAAP;AAWD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport path from 'path';\nimport {AssetData} from './buildBundle';\n\ntype ImageSet = {\n  basePath: string;\n  files: {name: string; scale: number}[];\n};\n\nexport default function getImageSetIOS(\n  catalogDir: string,\n  asset: AssetData,\n): ImageSet {\n  return {\n    basePath: path.join(\n      catalogDir,\n      asset.httpServerLocation.substr(1).replace(/\\.\\.\\//g, '_'),\n      `${asset.name}.imageset`,\n    ),\n    files: asset.scales.map((scale) => {\n      const suffix = scale === 1 ? '' : `@${scale}x`;\n      return {name: `${asset.name + suffix}.${asset.type}`, scale};\n    }),\n  };\n}\n"]}